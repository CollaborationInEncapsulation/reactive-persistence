CQL="DROP keyspace name;
CREATE KEYSPACE reactive WITH replication = {'class': 'SimpleStrategy', 'replication_factor': '1'} AND durable_writes = true;
CREATE TABLE reactive.world_gdp (country_code text PRIMARY KEY, gdp float);

BEGIN BATCH
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('af', 16.63);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('al', 11.58);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('dz', 158.97);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ao', 85.81);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ag', 1.1);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ar', 351.02);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('am', 8.83);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('au', 1219.72);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('at', 366.26);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('az', 52.17);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bs', 7.54);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bh', 21.73);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bd', 105.4);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bb', 3.96);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('by', 52.89);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('be', 461.33);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bz', 1.43);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bj', 6.49);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bt', 1.4);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bo', 19.18);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ba', 16.2);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bw', 12.5);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('br', 2023.53);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bn', 11.96);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bg', 44.84);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bf', 8.67);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('bi', 1.47);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kh', 11.36);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cm', 21.88);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ca', 1563.66);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cv', 1.57);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cf', 2.11);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('td', 7.59);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cl', 199.18);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cn', 5745.13);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('co', 283.11);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('km', 0.56);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cd', 12.6);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cg', 11.88);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cr', 35.02);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ci', 22.38);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('hr', 59.92);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cy', 22.75);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('cz', 195.23);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('dk', 304.56);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('dj', 1.14);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('dm', 0.38);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('do', 50.87);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ec', 61.49);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('eg', 216.83);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sv', 21.8);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gq', 14.55);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('er', 2.25);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ee', 19.22);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('et', 30.94);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('fj', 3.15);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('fi', 231.98);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('fr', 2555.44);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ga', 12.56);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gm', 1.04);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ge', 11.23);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('de', 3305.9);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gh', 18.06);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gr', 305.01);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gd', 0.65);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gt', 40.77);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gn', 4.34);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gw', 0.83);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gy', 2.2);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ht', 6.5);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('hn', 15.34);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('hk', 226.49);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('hu', 132.28);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('is', 12.77);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('in', 1430.02);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('id', 695.06);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ir', 337.9);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('iq', 84.14);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ie', 204.14);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('il', 201.25);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('it', 2036.69);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('jm', 13.74);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('jp', 5390.9);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('jo', 27.13);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kz', 129.76);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ke', 32.42);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ki', 0.15);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kr', 986.26);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kw', 117.32);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kg', 4.44);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('la', 6.34);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lv', 23.39);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lb', 39.15);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ls', 1.8);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lr', 0.98);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ly', 77.91);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lt', 35.73);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lu', 52.43);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mk', 9.58);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mg', 8.33);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mw', 5.04);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('my', 218.95);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mv', 1.43);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ml', 9.08);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mt', 7.8);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mr', 3.49);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mu', 9.43);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mx', 1004.04);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('md', 5.36);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mn', 5.81);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('me', 3.88);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ma', 91.7);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mz', 10.21);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('mm', 35.65);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('na', 11.45);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('np', 15.11);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('nl', 770.31);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('nz', 138);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ni', 6.38);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ne', 5.6);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ng', 206.66);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('no', 413.51);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('om', 53.78);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pk', 174.79);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pa', 27.2);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pg', 8.81);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('py', 17.17);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pe', 153.55);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ph', 189.06);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pl', 438.88);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('pt', 223.7);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('qa', 126.52);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ro', 158.39);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ru', 1476.91);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('rw', 5.69);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ws', 0.55);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('st', 0.19);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sa', 434.44);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sn', 12.66);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('rs', 38.92);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sc', 0.92);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sl', 1.9);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sg', 217.38);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sk', 86.26);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('si', 46.44);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sb', 0.67);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('za', 354.41);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('es', 1374.78);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lk', 48.24);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('kn', 0.56);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('lc', 1);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('vc', 0.58);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sd', 65.93);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sr', 3.3);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sz', 3.17);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('se', 444.59);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ch', 522.44);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('sy', 59.63);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tw', 426.98);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tj', 5.58);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tz', 22.43);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('th', 312.61);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tl', 0.62);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tg', 3.07);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('to', 0.3);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tt', 21.2);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tn', 43.86);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tr', 729.05);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('tm', 0);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ug', 17.12);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ua', 136.56);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ae', 239.65);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('gb', 2258.57);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('us', 14624.18);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('uy', 40.71);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('uz', 37.72);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('vu', 0.72);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ve', 285.21);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('vn', 101.99);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('ye', 30.02);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('zm', 15.69);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('zw', 5.57);
INSERT INTO reactive.world_gdp (country_code, gdp) VALUES ('undefined', 5.73);
APPLY BATCH;"

until echo $CQL | cqlsh; do
  echo "cqlsh: Cassandra is unavailable to initialize - will retry later"
  sleep 2
done &

exec /docker-entrypoint.sh "$@"